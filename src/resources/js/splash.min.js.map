{"version":3,"file":"splash.min.js","sources":["../../../resources/js/helpers.js","../../../resources/js/polyfills.js","../../../resources/js/splash.js"],"sourcesContent":["/**\n * ## Debounce\n *\n * A function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds.\n *\n * If `immediate` is passed, trigger the function on the leading edge,\n * instead of the trailing.\n *\n * ```jsx\n *\n * // ...\n *\n * <input onInput={this.handleInput}>\n *\n * // ...\n *\n * handleInput = debounce(e => { /* ... *\\/ });\n *\n * ```\n *\n * @param {function} func - The function to debounce\n * @param {number=} wait - How long, in milliseconds, to delay between attempts\n * @param {boolean=} immediate - Fire on the leading edge\n * @returns {Function}\n */\nexport function debounce (func, wait = 300, immediate = false) {\n\tlet timeout;\n\t\n\tif (wait === 0) {\n\t\treturn function () {\n\t\t\tfunc.apply(this, arguments);\n\t\t};\n\t}\n\t\n\treturn function () {\n\t\tconst context = this\n\t\t\t, args = arguments;\n\t\t\n\t\tif (args[0].constructor.name === \"SyntheticEvent\")\n\t\t\targs[0].persist();\n\t\t\n\t\tconst later = function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n\t\t};\n\t\tconst callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) func.apply(context, args);\n\t};\n}\n\n/**\n * ## Create Element\n * Quick and easy DOM element creation\n *\n * @param {string=} tag - The element tag\n * @param {object=} attributes - The attributes to add, mapping the key as\n *     the attribute name, and the value as its value. If the value is a\n *     function, it will be added as an event.\n * @param {(Array|*)=} children - An array of children (can be a mixture of\n *     Nodes to append, or other values to be stringified and appended\n *     as text).\n * @return {Element} - The created element\n */\nexport function t (tag = \"div\", attributes = {}, children = []) {\n\tconst elem = document.createElement(tag);\n\t\n\tfor (let [key, value] of Object.entries(attributes)) {\n\t\tif (!value) continue;\n\t\t\n\t\tif (typeof value === typeof (() => {})) {\n\t\t\tif (key === \"ref\") value(elem);\n\t\t\telse elem.addEventListener(key, value);\n\t\t\tcontinue;\n\t\t}\n\t\t\n\t\tif (key === \"style\")\n\t\t\tvalue = value.replace(/[\\t\\r\\n]/g, \" \").trim();\n\t\t\n\t\telem.setAttribute(key, value);\n\t}\n\t\n\tif (!Array.isArray(children))\n\t\tchildren = [children];\n\t\n\tchildren.map(child => {\n\t\tif (!child) return;\n\t\t\n\t\ttry {\n\t\t\telem.appendChild(child);\n\t\t} catch (_) {\n\t\t\telem.appendChild(document.createTextNode(child));\n\t\t}\n\t});\n\t\n\treturn elem;\n}\n\n\nexport function inViewport (el) {\n\tconst rect = el.getBoundingClientRect();\n\t\n\treturn (\n\t\trect.bottom > 0 &&\n\t\trect.right > 0 &&\n\t\trect.left < (window.innerWidth || document.documentElement.clientWidth) &&\n\t\trect.top < (window.innerHeight || document.documentElement.clientHeight)\n\t);\n}\n","/* eslint-disable */\nif (!Object.entries) {\n\tObject.entries = function (obj) {\n\t\tlet ownProps = Object.keys(obj),\n\t\t\ti = ownProps.length,\n\t\t\tresArray = new Array(i); // preallocate the Array\n\t\t\n\t\twhile (i--)\n\t\t\tresArray[i] = [ownProps[i], obj[ownProps[i]]];\n\t\t\n\t\treturn resArray;\n\t};\n}\n\n/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n(function(window, document) {\n\t'use strict';\n\t\n\t\n\t// Exits early if all IntersectionObserver and IntersectionObserverEntry\n\t// features are natively supported.\n\tif ('IntersectionObserver' in window &&\n\t    'IntersectionObserverEntry' in window &&\n\t    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\t\t\n\t\t// Minimal polyfill for Edge 15's lack of `isIntersecting`\n\t\t// See: https://github.com/w3c/IntersectionObserver/issues/211\n\t\tif (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n\t\t\tObject.defineProperty(window.IntersectionObserverEntry.prototype,\n\t\t\t\t'isIntersecting', {\n\t\t\t\t\tget: function () {\n\t\t\t\t\t\treturn this.intersectionRatio > 0;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\treturn;\n\t}\n\t\n\t\n\t/**\n\t * An IntersectionObserver registry. This registry exists to hold a strong\n\t * reference to IntersectionObserver instances currently observering a target\n\t * element. Without this registry, instances without another reference may be\n\t * garbage collected.\n\t */\n\tvar registry = [];\n\t\n\t\n\t/**\n\t * Creates the global IntersectionObserverEntry constructor.\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n\t * @param {Object} entry A dictionary of instance properties.\n\t * @constructor\n\t */\n\tfunction IntersectionObserverEntry(entry) {\n\t\tthis.time = entry.time;\n\t\tthis.target = entry.target;\n\t\tthis.rootBounds = entry.rootBounds;\n\t\tthis.boundingClientRect = entry.boundingClientRect;\n\t\tthis.intersectionRect = entry.intersectionRect || getEmptyRect();\n\t\tthis.isIntersecting = !!entry.intersectionRect;\n\t\t\n\t\t// Calculates the intersection ratio.\n\t\tvar targetRect = this.boundingClientRect;\n\t\tvar targetArea = targetRect.width * targetRect.height;\n\t\tvar intersectionRect = this.intersectionRect;\n\t\tvar intersectionArea = intersectionRect.width * intersectionRect.height;\n\t\t\n\t\t// Sets intersection ratio.\n\t\tif (targetArea) {\n\t\t\tthis.intersectionRatio = intersectionArea / targetArea;\n\t\t} else {\n\t\t\t// If area is zero and is intersecting, sets to 1, otherwise to 0\n\t\t\tthis.intersectionRatio = this.isIntersecting ? 1 : 0;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Creates the global IntersectionObserver constructor.\n\t * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n\t * @param {Function} callback The function to be invoked after intersection\n\t *     changes have queued. The function is not invoked if the queue has\n\t *     been emptied by calling the `takeRecords` method.\n\t * @param {Object=} opt_options Optional configuration options.\n\t * @constructor\n\t */\n\tfunction IntersectionObserver(callback, opt_options) {\n\t\t\n\t\tvar options = opt_options || {};\n\t\t\n\t\tif (typeof callback != 'function') {\n\t\t\tthrow new Error('callback must be a function');\n\t\t}\n\t\t\n\t\tif (options.root && options.root.nodeType != 1) {\n\t\t\tthrow new Error('root must be an Element');\n\t\t}\n\t\t\n\t\t// Binds and throttles `this._checkForIntersections`.\n\t\tthis._checkForIntersections = throttle(\n\t\t\tthis._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\t\t\n\t\t// Private properties.\n\t\tthis._callback = callback;\n\t\tthis._observationTargets = [];\n\t\tthis._queuedEntries = [];\n\t\tthis._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\t\t\n\t\t// Public properties.\n\t\tthis.thresholds = this._initThresholds(options.threshold);\n\t\tthis.root = options.root || null;\n\t\tthis.rootMargin = this._rootMarginValues.map(function(margin) {\n\t\t\treturn margin.value + margin.unit;\n\t\t}).join(' ');\n\t}\n\t\n\t\n\t/**\n\t * The minimum interval within which the document will be checked for\n\t * intersection changes.\n\t */\n\tIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\t\n\t\n\t/**\n\t * The frequency in which the polyfill polls for intersection changes.\n\t * this can be updated on a per instance basis and must be set prior to\n\t * calling `observe` on the first target.\n\t */\n\tIntersectionObserver.prototype.POLL_INTERVAL = null;\n\t\n\t\n\t/**\n\t * Starts observing a target element for intersection changes based on\n\t * the thresholds values.\n\t * @param {Element} target The DOM element to observe.\n\t */\n\tIntersectionObserver.prototype.observe = function(target) {\n\t\t// If the target is already being observed, do nothing.\n\t\tif (this._observationTargets.some(function(item) {\n\t\t\t\treturn item.element == target;\n\t\t\t})) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (!(target && target.nodeType == 1)) {\n\t\t\tthrow new Error('target must be an Element');\n\t\t}\n\t\t\n\t\tthis._registerInstance();\n\t\tthis._observationTargets.push({element: target, entry: null});\n\t\tthis._monitorIntersections();\n\t\tthis._checkForIntersections();\n\t};\n\t\n\t\n\t/**\n\t * Stops observing a target element for intersection changes.\n\t * @param {Element} target The DOM element to observe.\n\t */\n\tIntersectionObserver.prototype.unobserve = function(target) {\n\t\tthis._observationTargets =\n\t\t\tthis._observationTargets.filter(function(item) {\n\t\t\t\t\n\t\t\t\treturn item.element != target;\n\t\t\t});\n\t\tif (!this._observationTargets.length) {\n\t\t\tthis._unmonitorIntersections();\n\t\t\tthis._unregisterInstance();\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Stops observing all target elements for intersection changes.\n\t */\n\tIntersectionObserver.prototype.disconnect = function() {\n\t\tthis._observationTargets = [];\n\t\tthis._unmonitorIntersections();\n\t\tthis._unregisterInstance();\n\t};\n\t\n\t\n\t/**\n\t * Returns any queue entries that have not yet been reported to the\n\t * callback and clears the queue. This can be used in conjunction with the\n\t * callback to obtain the absolute most up-to-date intersection information.\n\t * @return {Array} The currently queued entries.\n\t */\n\tIntersectionObserver.prototype.takeRecords = function() {\n\t\tvar records = this._queuedEntries.slice();\n\t\tthis._queuedEntries = [];\n\t\treturn records;\n\t};\n\t\n\t\n\t/**\n\t * Accepts the threshold value from the user configuration object and\n\t * returns a sorted array of unique threshold values. If a value is not\n\t * between 0 and 1 and error is thrown.\n\t * @private\n\t * @param {Array|number=} opt_threshold An optional threshold value or\n\t *     a list of threshold values, defaulting to [0].\n\t * @return {Array} A sorted list of unique and valid threshold values.\n\t */\n\tIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n\t\tvar threshold = opt_threshold || [0];\n\t\tif (!Array.isArray(threshold)) threshold = [threshold];\n\t\t\n\t\treturn threshold.sort().filter(function(t, i, a) {\n\t\t\tif (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n\t\t\t\tthrow new Error('threshold must be a number between 0 and 1 inclusively');\n\t\t\t}\n\t\t\treturn t !== a[i - 1];\n\t\t});\n\t};\n\t\n\t\n\t/**\n\t * Accepts the rootMargin value from the user configuration object\n\t * and returns an array of the four margin values as an object containing\n\t * the value and unit properties. If any of the values are not properly\n\t * formatted or use a unit other than px or %, and error is thrown.\n\t * @private\n\t * @param {string=} opt_rootMargin An optional rootMargin value,\n\t *     defaulting to '0px'.\n\t * @return {Array<Object>} An array of margin objects with the keys\n\t *     value and unit.\n\t */\n\tIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n\t\tvar marginString = opt_rootMargin || '0px';\n\t\tvar margins = marginString.split(/\\s+/).map(function(margin) {\n\t\t\tvar parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n\t\t\tif (!parts) {\n\t\t\t\tthrow new Error('rootMargin must be specified in pixels or percent');\n\t\t\t}\n\t\t\treturn {value: parseFloat(parts[1]), unit: parts[2]};\n\t\t});\n\t\t\n\t\t// Handles shorthand.\n\t\tmargins[1] = margins[1] || margins[0];\n\t\tmargins[2] = margins[2] || margins[0];\n\t\tmargins[3] = margins[3] || margins[1];\n\t\t\n\t\treturn margins;\n\t};\n\t\n\t\n\t/**\n\t * Starts polling for intersection changes if the polling is not already\n\t * happening, and if the page's visibilty state is visible.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._monitorIntersections = function() {\n\t\tif (!this._monitoringIntersections) {\n\t\t\tthis._monitoringIntersections = true;\n\t\t\t\n\t\t\t// If a poll interval is set, use polling instead of listening to\n\t\t\t// resize and scroll events or DOM mutations.\n\t\t\tif (this.POLL_INTERVAL) {\n\t\t\t\tthis._monitoringInterval = setInterval(\n\t\t\t\t\tthis._checkForIntersections, this.POLL_INTERVAL);\n\t\t\t}\n\t\t\telse {\n\t\t\t\taddEvent(window, 'resize', this._checkForIntersections, true);\n\t\t\t\taddEvent(document, 'scroll', this._checkForIntersections, true);\n\t\t\t\t\n\t\t\t\tif ('MutationObserver' in window) {\n\t\t\t\t\tthis._domObserver = new MutationObserver(this._checkForIntersections);\n\t\t\t\t\tthis._domObserver.observe(document, {\n\t\t\t\t\t\tattributes: true,\n\t\t\t\t\t\tchildList: true,\n\t\t\t\t\t\tcharacterData: true,\n\t\t\t\t\t\tsubtree: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Stops polling for intersection changes.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._unmonitorIntersections = function() {\n\t\tif (this._monitoringIntersections) {\n\t\t\tthis._monitoringIntersections = false;\n\t\t\t\n\t\t\tclearInterval(this._monitoringInterval);\n\t\t\tthis._monitoringInterval = null;\n\t\t\t\n\t\t\tremoveEvent(window, 'resize', this._checkForIntersections, true);\n\t\t\tremoveEvent(document, 'scroll', this._checkForIntersections, true);\n\t\t\t\n\t\t\tif (this._domObserver) {\n\t\t\t\tthis._domObserver.disconnect();\n\t\t\t\tthis._domObserver = null;\n\t\t\t}\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Scans each observation target for intersection changes and adds them\n\t * to the internal entries queue. If new entries are found, it\n\t * schedules the callback to be invoked.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._checkForIntersections = function() {\n\t\tvar rootIsInDom = this._rootIsInDom();\n\t\tvar rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\t\t\n\t\tthis._observationTargets.forEach(function(item) {\n\t\t\tvar target = item.element;\n\t\t\tvar targetRect = getBoundingClientRect(target);\n\t\t\tvar rootContainsTarget = this._rootContainsTarget(target);\n\t\t\tvar oldEntry = item.entry;\n\t\t\tvar intersectionRect = rootIsInDom && rootContainsTarget &&\n\t\t\t                       this._computeTargetAndRootIntersection(target, rootRect);\n\t\t\t\n\t\t\tvar newEntry = item.entry = new IntersectionObserverEntry({\n\t\t\t\ttime: now(),\n\t\t\t\ttarget: target,\n\t\t\t\tboundingClientRect: targetRect,\n\t\t\t\trootBounds: rootRect,\n\t\t\t\tintersectionRect: intersectionRect\n\t\t\t});\n\t\t\t\n\t\t\tif (!oldEntry) {\n\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t} else if (rootIsInDom && rootContainsTarget) {\n\t\t\t\t// If the new entry intersection ratio has crossed any of the\n\t\t\t\t// thresholds, add a new entry.\n\t\t\t\tif (this._hasCrossedThreshold(oldEntry, newEntry)) {\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If the root is not in the DOM or target is not contained within\n\t\t\t\t// root but the previous entry for this target had an intersection,\n\t\t\t\t// add a new record indicating removal.\n\t\t\t\tif (oldEntry && oldEntry.isIntersecting) {\n\t\t\t\t\tthis._queuedEntries.push(newEntry);\n\t\t\t\t}\n\t\t\t}\n\t\t}, this);\n\t\t\n\t\tif (this._queuedEntries.length) {\n\t\t\tthis._callback(this.takeRecords(), this);\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Accepts a target and root rect computes the intersection between then\n\t * following the algorithm in the spec.\n\t * TODO(philipwalton): at this time clip-path is not considered.\n\t * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n\t * @param {Element} target The target DOM element\n\t * @param {Object} rootRect The bounding rect of the root after being\n\t *     expanded by the rootMargin value.\n\t * @return {?Object} The final intersection rect object or undefined if no\n\t *     intersection is found.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._computeTargetAndRootIntersection =\n\t\tfunction(target, rootRect) {\n\t\t\t\n\t\t\t// If the element isn't displayed, an intersection can't happen.\n\t\t\tif (window.getComputedStyle(target).display == 'none') return;\n\t\t\t\n\t\t\tvar targetRect = getBoundingClientRect(target);\n\t\t\tvar intersectionRect = targetRect;\n\t\t\tvar parent = getParentNode(target);\n\t\t\tvar atRoot = false;\n\t\t\t\n\t\t\twhile (!atRoot) {\n\t\t\t\tvar parentRect = null;\n\t\t\t\tvar parentComputedStyle = parent.nodeType == 1 ?\n\t\t\t\t                          window.getComputedStyle(parent) : {};\n\t\t\t\t\n\t\t\t\t// If the parent isn't displayed, an intersection can't happen.\n\t\t\t\tif (parentComputedStyle.display == 'none') return;\n\t\t\t\t\n\t\t\t\tif (parent == this.root || parent == document) {\n\t\t\t\t\tatRoot = true;\n\t\t\t\t\tparentRect = rootRect;\n\t\t\t\t} else {\n\t\t\t\t\t// If the element has a non-visible overflow, and it's not the <body>\n\t\t\t\t\t// or <html> element, update the intersection rect.\n\t\t\t\t\t// Note: <body> and <html> cannot be clipped to a rect that's not also\n\t\t\t\t\t// the document rect, so no need to compute a new intersection.\n\t\t\t\t\tif (parent != document.body &&\n\t\t\t\t\t    parent != document.documentElement &&\n\t\t\t\t\t    parentComputedStyle.overflow != 'visible') {\n\t\t\t\t\t\tparentRect = getBoundingClientRect(parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// If either of the above conditionals set a new parentRect,\n\t\t\t\t// calculate new intersection data.\n\t\t\t\tif (parentRect) {\n\t\t\t\t\tintersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\t\t\t\t\t\n\t\t\t\t\tif (!intersectionRect) break;\n\t\t\t\t}\n\t\t\t\tparent = getParentNode(parent);\n\t\t\t}\n\t\t\treturn intersectionRect;\n\t\t};\n\t\n\t\n\t/**\n\t * Returns the root rect after being expanded by the rootMargin value.\n\t * @return {Object} The expanded root rect.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._getRootRect = function() {\n\t\tvar rootRect;\n\t\tif (this.root) {\n\t\t\trootRect = getBoundingClientRect(this.root);\n\t\t} else {\n\t\t\t// Use <html>/<body> instead of window since scroll bars affect size.\n\t\t\tvar html = document.documentElement;\n\t\t\tvar body = document.body;\n\t\t\trootRect = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: html.clientWidth || body.clientWidth,\n\t\t\t\twidth: html.clientWidth || body.clientWidth,\n\t\t\t\tbottom: html.clientHeight || body.clientHeight,\n\t\t\t\theight: html.clientHeight || body.clientHeight\n\t\t\t};\n\t\t}\n\t\treturn this._expandRectByRootMargin(rootRect);\n\t};\n\t\n\t\n\t/**\n\t * Accepts a rect and expands it by the rootMargin value.\n\t * @param {Object} rect The rect object to expand.\n\t * @return {Object} The expanded rect.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n\t\tvar margins = this._rootMarginValues.map(function(margin, i) {\n\t\t\treturn margin.unit == 'px' ? margin.value :\n\t\t\t       margin.value * (i % 2 ? rect.width : rect.height) / 100;\n\t\t});\n\t\tvar newRect = {\n\t\t\ttop: rect.top - margins[0],\n\t\t\tright: rect.right + margins[1],\n\t\t\tbottom: rect.bottom + margins[2],\n\t\t\tleft: rect.left - margins[3]\n\t\t};\n\t\tnewRect.width = newRect.right - newRect.left;\n\t\tnewRect.height = newRect.bottom - newRect.top;\n\t\t\n\t\treturn newRect;\n\t};\n\t\n\t\n\t/**\n\t * Accepts an old and new entry and returns true if at least one of the\n\t * threshold values has been crossed.\n\t * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n\t *    particular target element or null if no previous entry exists.\n\t * @param {IntersectionObserverEntry} newEntry The current entry for a\n\t *    particular target element.\n\t * @return {boolean} Returns true if a any threshold has been crossed.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._hasCrossedThreshold =\n\t\tfunction(oldEntry, newEntry) {\n\t\t\t\n\t\t\t// To make comparing easier, an entry that has a ratio of 0\n\t\t\t// but does not actually intersect is given a value of -1\n\t\t\tvar oldRatio = oldEntry && oldEntry.isIntersecting ?\n\t\t\t               oldEntry.intersectionRatio || 0 : -1;\n\t\t\tvar newRatio = newEntry.isIntersecting ?\n\t\t\t               newEntry.intersectionRatio || 0 : -1;\n\t\t\t\n\t\t\t// Ignore unchanged ratios\n\t\t\tif (oldRatio === newRatio) return;\n\t\t\t\n\t\t\tfor (var i = 0; i < this.thresholds.length; i++) {\n\t\t\t\tvar threshold = this.thresholds[i];\n\t\t\t\t\n\t\t\t\t// Return true if an entry matches a threshold or if the new ratio\n\t\t\t\t// and the old ratio are on the opposite sides of a threshold.\n\t\t\t\tif (threshold == oldRatio || threshold == newRatio ||\n\t\t\t\t    threshold < oldRatio !== threshold < newRatio) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\n\t/**\n\t * Returns whether or not the root element is an element and is in the DOM.\n\t * @return {boolean} True if the root element is an element and is in the DOM.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._rootIsInDom = function() {\n\t\treturn !this.root || containsDeep(document, this.root);\n\t};\n\t\n\t\n\t/**\n\t * Returns whether or not the target element is a child of root.\n\t * @param {Element} target The target element to check.\n\t * @return {boolean} True if the target element is a child of root.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._rootContainsTarget = function(target) {\n\t\treturn containsDeep(this.root || document, target);\n\t};\n\t\n\t\n\t/**\n\t * Adds the instance to the global IntersectionObserver registry if it isn't\n\t * already present.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._registerInstance = function() {\n\t\tif (registry.indexOf(this) < 0) {\n\t\t\tregistry.push(this);\n\t\t}\n\t};\n\t\n\t\n\t/**\n\t * Removes the instance from the global IntersectionObserver registry.\n\t * @private\n\t */\n\tIntersectionObserver.prototype._unregisterInstance = function() {\n\t\tvar index = registry.indexOf(this);\n\t\tif (index != -1) registry.splice(index, 1);\n\t};\n\t\n\t\n\t/**\n\t * Returns the result of the performance.now() method or null in browsers\n\t * that don't support the API.\n\t * @return {number} The elapsed time since the page was requested.\n\t */\n\tfunction now() {\n\t\treturn window.performance && performance.now && performance.now();\n\t}\n\t\n\t\n\t/**\n\t * Throttles a function and delays its executiong, so it's only called at most\n\t * once within a given time period.\n\t * @param {Function} fn The function to throttle.\n\t * @param {number} timeout The amount of time that must pass before the\n\t *     function can be called again.\n\t * @return {Function} The throttled function.\n\t */\n\tfunction throttle(fn, timeout) {\n\t\tvar timer = null;\n\t\treturn function () {\n\t\t\tif (!timer) {\n\t\t\t\ttimer = setTimeout(function() {\n\t\t\t\t\tfn();\n\t\t\t\t\ttimer = null;\n\t\t\t\t}, timeout);\n\t\t\t}\n\t\t};\n\t}\n\t\n\t\n\t/**\n\t * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n\t * @param {Node} node The DOM node to add the event handler to.\n\t * @param {string} event The event name.\n\t * @param {Function} fn The event handler to add.\n\t * @param {boolean} opt_useCapture Optionally adds the even to the capture\n\t *     phase. Note: this only works in modern browsers.\n\t */\n\tfunction addEvent(node, event, fn, opt_useCapture) {\n\t\tif (typeof node.addEventListener == 'function') {\n\t\t\tnode.addEventListener(event, fn, opt_useCapture || false);\n\t\t}\n\t\telse if (typeof node.attachEvent == 'function') {\n\t\t\tnode.attachEvent('on' + event, fn);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Removes a previously added event handler from a DOM node.\n\t * @param {Node} node The DOM node to remove the event handler from.\n\t * @param {string} event The event name.\n\t * @param {Function} fn The event handler to remove.\n\t * @param {boolean} opt_useCapture If the event handler was added with this\n\t *     flag set to true, it should be set to true here in order to remove it.\n\t */\n\tfunction removeEvent(node, event, fn, opt_useCapture) {\n\t\tif (typeof node.removeEventListener == 'function') {\n\t\t\tnode.removeEventListener(event, fn, opt_useCapture || false);\n\t\t}\n\t\telse if (typeof node.detatchEvent == 'function') {\n\t\t\tnode.detatchEvent('on' + event, fn);\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Returns the intersection between two rect objects.\n\t * @param {Object} rect1 The first rect.\n\t * @param {Object} rect2 The second rect.\n\t * @return {?Object} The intersection rect or undefined if no intersection\n\t *     is found.\n\t */\n\tfunction computeRectIntersection(rect1, rect2) {\n\t\tvar top = Math.max(rect1.top, rect2.top);\n\t\tvar bottom = Math.min(rect1.bottom, rect2.bottom);\n\t\tvar left = Math.max(rect1.left, rect2.left);\n\t\tvar right = Math.min(rect1.right, rect2.right);\n\t\tvar width = right - left;\n\t\tvar height = bottom - top;\n\t\t\n\t\treturn (width >= 0 && height >= 0) && {\n\t\t\ttop: top,\n\t\t\tbottom: bottom,\n\t\t\tleft: left,\n\t\t\tright: right,\n\t\t\twidth: width,\n\t\t\theight: height\n\t\t};\n\t}\n\t\n\t\n\t/**\n\t * Shims the native getBoundingClientRect for compatibility with older IE.\n\t * @param {Element} el The element whose bounding rect to get.\n\t * @return {Object} The (possibly shimmed) rect of the element.\n\t */\n\tfunction getBoundingClientRect(el) {\n\t\tvar rect;\n\t\t\n\t\ttry {\n\t\t\trect = el.getBoundingClientRect();\n\t\t} catch (err) {\n\t\t\t// Ignore Windows 7 IE11 \"Unspecified error\"\n\t\t\t// https://github.com/w3c/IntersectionObserver/pull/205\n\t\t}\n\t\t\n\t\tif (!rect) return getEmptyRect();\n\t\t\n\t\t// Older IE\n\t\tif (!(rect.width && rect.height)) {\n\t\t\trect = {\n\t\t\t\ttop: rect.top,\n\t\t\t\tright: rect.right,\n\t\t\t\tbottom: rect.bottom,\n\t\t\t\tleft: rect.left,\n\t\t\t\twidth: rect.right - rect.left,\n\t\t\t\theight: rect.bottom - rect.top\n\t\t\t};\n\t\t}\n\t\treturn rect;\n\t}\n\t\n\t\n\t/**\n\t * Returns an empty rect object. An empty rect is returned when an element\n\t * is not in the DOM.\n\t * @return {Object} The empty rect.\n\t */\n\tfunction getEmptyRect() {\n\t\treturn {\n\t\t\ttop: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\tright: 0,\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t};\n\t}\n\t\n\t/**\n\t * Checks to see if a parent element contains a child elemnt (including inside\n\t * shadow DOM).\n\t * @param {Node} parent The parent element.\n\t * @param {Node} child The child element.\n\t * @return {boolean} True if the parent node contains the child node.\n\t */\n\tfunction containsDeep(parent, child) {\n\t\tvar node = child;\n\t\twhile (node) {\n\t\t\tif (node == parent) return true;\n\t\t\t\n\t\t\tnode = getParentNode(node);\n\t\t}\n\t\treturn false;\n\t}\n\t\n\t\n\t/**\n\t * Gets the parent node of an element or its host element if the parent node\n\t * is a shadow root.\n\t * @param {Node} node The node whose parent to get.\n\t * @return {Node|null} The parent node or null if no parent exists.\n\t */\n\tfunction getParentNode(node) {\n\t\tvar parent = node.parentNode;\n\t\t\n\t\tif (parent && parent.nodeType == 11 && parent.host) {\n\t\t\t// If the parent is a shadow root, return the host element.\n\t\t\treturn parent.host;\n\t\t}\n\t\treturn parent;\n\t}\n\t\n\t\n\t// Exposes the constructors globally.\n\twindow.IntersectionObserver = IntersectionObserver;\n\twindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\t\n}(window, document));\n/* eslint-enable */\n","/* globals Craft */\nimport \"./polyfills\";\nimport { debounce, t, inViewport } from \"./helpers\";\n\nconst slowLoading = [\n\t\"Any second now...\",\n\t\"Almost there...\",\n\t\"Just a moment...\",\n\t\"Nearly got it...\",\n\t\"Still searching for {query}...\",\n\t\"So... {query}, huh?\",\n\t\"{query} images coming right up...\",\n];\n\nconst noResults = [\n\t\"We couldn't find anything for {query}\",\n\t\"We looked, but couldn't find any {query} images\",\n\t\"Are you sure {query} is a thing? We couldn't find it ðŸ˜”\",\n];\n\nclass Splash { // eslint-disable-line no-unused-vars\n\t\n\t// Variables\n\t// =========================================================================\n\t\n\tgrid = null;\n\tform = null;\n\tmore = null;\n\tempty = null;\n\t\n\tio = null;\n\txhr = null;\n\t\n\tpage = 1;\n\tsearch = \"\";\n\ttotalPages = 1;\n\tisQuerying = false;\n\t\n\tshortest = [];\n\twatchers = [];\n\t\n\tpreview = null;\n\tpreviewHiRes = null;\n\t\n\t// Splash\n\t// =========================================================================\n\t\n\tconstructor () {\n\t\tthis.grid = document.getElementById(\"splashGrid\");\n\t\tthis.form = document.getElementById(\"splashSearch\");\n\t\tthis.more = document.getElementById(\"splashMore\");\n\t\tthis.empty = document.getElementById(\"splashEmpty\");\n\t\t\n\t\tthis.io = new IntersectionObserver(this.onObserve);\n\t\tthis.io.observe(this.more);\n\t\t\n\t\tthis.form.addEventListener(\"submit\", e => e.preventDefault());\n\t\tthis.form.firstElementChild.addEventListener(\n\t\t\t\"input\",\n\t\t\tdebounce(this.onSearch, 700)\n\t\t);\n\t\t\n\t\tthis.query(true);\n\t\t\n\t\tthis.preview = t(\"div\", { class: \"splash--preview\" });\n\t\tdocument.body.appendChild(this.preview);\n\t}\n\t\n\t// Actions\n\t// =========================================================================\n\t\n\tquery (isNewSearch = false, isRetry = false) {\n\t\tif (isNewSearch) {\n\t\t\tthis.page = 1;\n\t\t\tthis.totalPages = 1;\n\t\t\tthis.grid.classList.add(\"searching\");\n\t\t} else if (!isRetry) this.page++;\n\t\t\n\t\tif (this.page > this.totalPages) return;\n\t\t\n\t\tthis.isQuerying = true;\n\t\t\n\t\tthis.xhr && this.xhr.cancel();\n\t\t\n\t\tthis.xhr = new XMLHttpRequest();\n\t\tthis.xhr.open(\"POST\", \"splash/un\", true);\n\t\tthis.xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\t\tthis.xhr.onload = () => {\n\t\t\tconst status = this.xhr.status;\n\t\t\tlet res = this.xhr.responseText;\n\t\t\tthis.xhr = null;\n\t\t\t\n\t\t\tisNewSearch && this.grid.classList.remove(\"searching\");\n\t\t\tthis.isQuerying = false;\n\t\t\t\n\t\t\tif (status < 200 || status >= 400) {\n\t\t\t\tCraft.cp.displayError(res);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tres = JSON.parse(res);\n\t\t\t\n\t\t\t// In case the Unsplash API decides to nope out\n\t\t\tif (res.images === null) {\n\t\t\t\tthis.grid.dataset.loading = isRetry ? (\n\t\t\t\t\tslowLoading[Math.floor(Math.random() * slowLoading.length)]\n\t\t\t\t\t\t.replace(\"{query}\", this.search)\n\t\t\t\t) : \"Unsplash is taking a while...\";\n\t\t\t\tthis.query(isNewSearch, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.totalPages = res.totalPages;\n\t\t\tthis.populateResults(res.images);\n\t\t};\n\t\t\n\t\tconst data = new FormData();\n\t\tdata.append(Craft.csrfTokenName, Craft.csrfTokenValue);\n\t\tdata.append(\"page\", this.page);\n\t\tdata.append(\"query\", encodeURI(this.search.trim()));\n\t\t\n\t\tthis.xhr.send(data);\n\t}\n\t\n\tpopulateResults (results) {\n\t\tif (this.page === 1) {\n\t\t\tthis.clearResults();\n\t\t\tthis.resetShortest();\n\t\t}\n\t\t\n\t\tresults.forEach(result => {\n\t\t\tlet height = 75;\n\t\t\t\n\t\t\tif (result.width && result.height) {\n\t\t\t\theight = (result.height / result.width) * 100;\n\t\t\t}\n\t\t\t\n\t\t\tconst si = this.shortest.indexOf(Math.min(...this.shortest));\n\t\t\tthis.shortest[si] += height;\n\t\t\t\n\t\t\tthis.grid.children[si].appendChild(\n\t\t\t\tthis.render(result)\n\t\t\t);\n\t\t});\n\t\t\n\t\tthis.watchers.forEach(watcher => this.loadNextImage(watcher));\n\t\t\n\t\tif (this.page === this.totalPages || this.totalPages === 0)\n\t\t\tthis.more.classList.add(\"hide\");\n\t\t\n\t\tif (this.totalPages === 0) {\n\t\t\tthis.empty.textContent =\n\t\t\t\tnoResults[Math.floor(Math.random() * noResults.length)]\n\t\t\t\t\t.replace(\"{query}\", this.search);\n\t\t\tthis.empty.classList.add(\"show\");\n\t\t}\n\t}\n\t\n\tshowPreview (image) {\n\t\twhile (this.preview.firstElementChild)\n\t\t\tthis.preview.removeChild(this.preview.firstElementChild);\n\t\t\n\t\tthis.preview.appendChild(\n\t\t\tthis.render(image, () => {\n\t\t\t\tthis.preview.classList.remove(\"open\");\n\t\t\t\tdocument.body.style.overflow = \"\";\n\t\t\t\tdocument.body.parentNode.style.overflow = \"\";\n\t\t\t}),\n\t\t);\n\t\t\n\t\tthis.preview.classList.add(\"open\");\n\t\tdocument.body.style.overflow = \"hidden\";\n\t\tdocument.body.parentNode.style.overflow = \"hidden\";\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tthis.previewHiRes.setAttribute(\"src\", this.previewHiRes.dataset.src);\n\t\t}, 500);\n\t}\n\t\n\t// Events\n\t// =========================================================================\n\t\n\tonSearch = e => {\n\t\tthis.search = e.target.value;\n\t\tthis.query(true);\n\t};\n\t\n\tonLoad = e => {\n\t\te.target.removeEventListener(\"load\", this.onLoad);\n\t\te.target.parentNode.parentNode.classList.add(\"loaded\");\n\t\te.target.style.paddingTop = \"0\";\n\t};\n\t\n\tonObserve = entries => {\n\t\tentries.forEach(entry => {\n\t\t\tif (!entry.isIntersecting) {\n\t\t\t\tif (entry.target.dataset.watcher\n\t\t\t\t    && entry.boundingClientRect.top <= 0)\n\t\t\t\t\tthis.loadNextImage(entry.target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (entry.target.id === \"splashMore\") {\n\t\t\t\tif (this.page !== this.totalPages && !this.isQuerying)\n\t\t\t\t\tthis.query();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tif (entry.target.dataset.watcher) {\n\t\t\t\tthis.loadNextImage(entry.target);\n\t\t\t}\n\t\t});\n\t};\n\t\n\tonDownload = (e, target = null) => {\n\t\te.preventDefault();\n\t\ttarget = target ? target : e.target;\n\t\tconst { id, image, author, authorUrl, color } = target.dataset;\n\t\t\n\t\tlet parent = target;\n\t\twhile (!parent.classList.contains(\"splash--grid-image\"))\n\t\t\tparent = parent.parentNode;\n\t\t\n\t\tparent.classList.add(\"downloading\");\n\t\t\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open(\"POST\", \"splash/dl\", true);\n\t\txhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\n\t\txhr.onload = () => {\n\t\t\tconst status = xhr.status;\n\t\t\tlet res = xhr.responseText;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tres = JSON.parse(res);\n\t\t\t} catch (_) {\n\t\t\t\tres = {};\n\t\t\t}\n\t\t\t\n\t\t\tparent.classList.remove(\"downloading\");\n\t\t\t\n\t\t\tif (status < 200 || status >= 400) {\n\t\t\t\tCraft.cp.displayError(\n\t\t\t\t\tres.hasOwnProperty(\"error\")\n\t\t\t\t\t\t? res.error : \"Failed to download image.\"\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tCraft.cp.displayNotice(\"Image downloaded successfully!\");\n\t\t};\n\t\t\n\t\tconst data = new FormData();\n\t\tdata.append(Craft.csrfTokenName, Craft.csrfTokenValue);\n\t\tdata.append(\"id\", id);\n\t\tdata.append(\"image\", image);\n\t\tdata.append(\"author\", author);\n\t\tdata.append(\"authorUrl\", authorUrl);\n\t\tdata.append(\"color\", color);\n\t\tdata.append(\"query\", this.search);\n\t\t\n\t\txhr.send(data);\n\t};\n\t\n\t// Helpers\n\t// =========================================================================\n\t\n\tclearResults () {\n\t\tconst c = this.grid.children;\n\t\t\n\t\tfor (let i = 0; i < c.length; i++) {\n\t\t\twhile (c[i].firstElementChild)\n\t\t\t\tc[i].removeChild(c[i].firstElementChild);\n\t\t\t\n\t\t\tif (!this.watchers[i]) {\n\t\t\t\tthis.watchers[i] = t(\"span\");\n\t\t\t\tthis.watchers[i].dataset.watcher = true;\n\t\t\t\tthis.io.observe(this.watchers[i]);\n\t\t\t}\n\t\t\t\n\t\t\tc[i].appendChild(this.watchers[i]);\n\t\t}\n\t\t\n\t\tthis.more.classList.remove(\"hide\");\n\t\tthis.empty.classList.remove(\"show\");\n\t\twindow.scrollTo(0, 0);\n\t}\n\t\n\tresetShortest () {\n\t\tthis.shortest = [];\n\t\t\n\t\tfor (let i = 0; i < this.grid.children.length; i++)\n\t\t\tthis.shortest.push(0);\n\t}\n\t\n\tloadNextImage (target) {\n\t\tconst next = target.nextElementSibling;\n\t\t\n\t\tif (!next || !next.classList.contains(\"splash--grid-image\"))\n\t\t\treturn;\n\t\t\n\t\tconst img = next.querySelector(\"img\");\n\t\timg.setAttribute(\"src\", img.dataset.src);\n\t\timg.setAttribute(\"alt\", img.dataset.alt);\n\t\t\n\t\ttarget.parentNode.insertBefore(target, next.nextElementSibling);\n\t\t\n\t\tinViewport(target) && this.loadNextImage(target);\n\t}\n\t\n\trender (\n\t\t{ id, urls, user, width, height, links, color },\n\t\tonClick = null\n\t) {\n\t\tlet padTop = 75;\n\t\tif (width && height) {\n\t\t\tpadTop = (height / width) * 100;\n\t\t}\n\t\t\n\t\tconst isPreview = onClick !== null;\n\t\tif (!onClick) onClick = this.showPreview.bind(this, arguments[0]);\n\t\t\n\t\tconst refer = \"?utm_source=Splash_For_Craft_CMS&utm_medium=referral&utm_campaign=api-credit\";\n\t\t\n\t\treturn t(\"div\", {\n\t\t\tclass: \"splash--grid-image\" + (isPreview ? \" loaded\" : \"\"),\n\t\t\tstyle: isPreview ? \"\" : `\n\t\t\t\tpadding-top: ${padTop}%;\n\t\t\t`,\n\t\t}, [\n\t\t\tt(\"div\", { class: \"splash--grid-image-top\" }, [\n\t\t\t\tt(\"a\", {\n\t\t\t\t\thref: user.links.html + refer,\n\t\t\t\t\ttarget: \"_blank\",\n\t\t\t\t}, user.name),\n\t\t\t\tt(\"a\", {\n\t\t\t\t\tid: (isPreview ? \"\" : id),\n\t\t\t\t\tclass: \"dl\",\n\t\t\t\t\thref: links.download + refer,\n\t\t\t\t\ttarget: \"_blank\",\n\t\t\t\t\t\"data-id\": id,\n\t\t\t\t\t\"data-image\": links.download,\n\t\t\t\t\t\"data-author\": user.name,\n\t\t\t\t\t\"data-author-url\": user.links.html,\n\t\t\t\t\t\"data-color\": color,\n\t\t\t\t\tclick: isPreview ? e => {\n\t\t\t\t\t\tonClick(e);\n\t\t\t\t\t\tthis.onDownload(e, document.getElementById(id));\n\t\t\t\t\t} : this.onDownload,\n\t\t\t\t}, \"Download\"),\n\t\t\t]),\n\t\t\tt(\"div\", {\n\t\t\t\tclass: \"splash--grid-image-img\" + (\n\t\t\t\t\t(width && height && width > height)\n\t\t\t\t\t|| window.innerHeight > window.innerWidth\n\t\t\t\t\t\t? \" wide\" : \" tall\"\n\t\t\t\t)\n\t\t\t}, [\n\t\t\t\tt(\"img\", {\n\t\t\t\t\t...(isPreview ? {\n\t\t\t\t\t\tsrc: urls.small,\n\t\t\t\t\t\talt: user.name,\n\t\t\t\t\t} : {\n\t\t\t\t\t\t\"data-src\": urls.small,\n\t\t\t\t\t\t\"data-alt\": user.name,\n\t\t\t\t\t}),\n\t\t\t\t\tload: this.onLoad,\n\t\t\t\t\tclick: onClick,\n\t\t\t\t}),\n\t\t\t\t...(isPreview ? [t(\"img\", {\n\t\t\t\t\t\"data-src\": urls.full,\n\t\t\t\t\talt: user.name,\n\t\t\t\t\tclick: onClick,\n\t\t\t\t\tref: el => { this.previewHiRes = el; }\n\t\t\t\t})] : []),\n\t\t\t])\n\t\t]);\n\t}\n\t\n}\n"],"names":["debounce","func","wait","immediate","timeout","apply","this","arguments","context","args","constructor","name","persist","callNow","setTimeout","t","tag","attributes","children","elem","document","createElement","Object","entries","key","value","replace","trim","setAttribute","addEventListener","Array","isArray","map","child","appendChild","_","createTextNode","inViewport","el","rect","getBoundingClientRect","bottom","right","left","window","innerWidth","documentElement","clientWidth","top","innerHeight","clientHeight","obj","ownProps","keys","i","length","resArray","IntersectionObserverEntry","entry","time","target","rootBounds","boundingClientRect","intersectionRect","isIntersecting","targetRect","targetArea","width","height","intersectionArea","intersectionRatio","IntersectionObserver","callback","opt_options","options","Error","root","nodeType","_checkForIntersections","fn","timer","throttle","bind","THROTTLE_TIMEOUT","_callback","_observationTargets","_queuedEntries","_rootMarginValues","_parseRootMargin","rootMargin","thresholds","_initThresholds","threshold","margin","unit","join","addEvent","node","event","opt_useCapture","attachEvent","removeEvent","removeEventListener","detatchEvent","err","containsDeep","parent","getParentNode","parentNode","host","prototype","defineProperty","registry","POLL_INTERVAL","observe","some","item","element","_registerInstance","push","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","slice","opt_threshold","sort","a","isNaN","opt_rootMargin","margins","split","parts","exec","parseFloat","_monitoringIntersections","_monitoringInterval","setInterval","_domObserver","MutationObserver","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","forEach","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","newEntry","performance","now","_hasCrossedThreshold","getComputedStyle","display","atRoot","parentRect","parentComputedStyle","body","overflow","rect1","rect2","Math","max","min","computeRectIntersection","html","_expandRectByRootMargin","newRect","oldRatio","newRatio","indexOf","index","splice","slowLoading","noResults","Splash","grid","form","more","empty","io","xhr","page","search","totalPages","isQuerying","shortest","watchers","preview","previewHiRes","onSearch","e","query","onLoad","_this","classList","add","style","paddingTop","onObserve","id","dataset","watcher","loadNextImage","onDownload","preventDefault","image","author","authorUrl","color","contains","XMLHttpRequest","open","setRequestHeader","onload","status","res","responseText","JSON","parse","remove","cp","displayError","hasOwnProperty","error","displayNotice","data","FormData","append","Craft","csrfTokenName","csrfTokenValue","send","getElementById","firstElementChild","class","isNewSearch","isRetry","cancel","_this2","images","loading","floor","random","populateResults","encodeURI","results","clearResults","resetShortest","result","si","_this3","render","textContent","removeChild","_this4","src","c","scrollTo","next","nextElementSibling","img","querySelector","alt","insertBefore","urls","user","links","onClick","padTop","isPreview","showPreview","refer","download","small","full"],"mappings":"AA2BA,SAAgBA,SAAUC,OAAMC,yDAAO,IAAKC,0DACvCC,gBAES,IAATF,EACI,aACDG,MAAMC,KAAMC,YAIZ,eACAC,EAAUF,KACbG,EAAOF,UAEuB,mBAA7BE,EAAK,GAAGC,YAAYC,MACvBF,EAAK,GAAGG,cAMHC,EAAUV,IAAcC,eACjBA,KACHU,WANI,aACH,KACLX,GAAWF,EAAKI,MAAMG,EAASC,IAITP,GACxBW,GAASZ,EAAKI,MAAMG,EAASC,IAiBnC,SAAgBM,QAAGC,yDAAM,MAAOC,4DAAiBC,4DAC1CC,EAAOC,SAASC,cAAcL,sCAEXM,OAAOC,QAAQN,kDAAa,oCAA3CO,OAAKC,OACTA,cAEMA,sBAAAA,cAAkB,eAMjB,UAARD,IACHC,EAAQA,EAAMC,QAAQ,YAAa,KAAKC,UAEpCC,aAAaJ,EAAKC,IARV,QAARD,EAAeC,EAAMN,GACpBA,EAAKU,iBAAiBL,EAAKC,yFAU7BK,MAAMC,QAAQb,KAClBA,GAAYA,MAEJc,IAAI,eACPC,QAGCC,YAAYD,GAChB,MAAOE,KACHD,YAAYd,SAASgB,eAAeH,OAIpCd,EAIR,SAAgBkB,WAAYC,OACrBC,EAAOD,EAAGE,+BAGfD,EAAKE,OAAS,GACdF,EAAKG,MAAQ,GACbH,EAAKI,MAAQC,OAAOC,YAAczB,SAAS0B,gBAAgBC,cAC3DR,EAAKS,KAAOJ,OAAOK,aAAe7B,SAAS0B,gBAAgBI,cC5GxD5B,OAAOC,iBACJA,QAAU,SAAU4B,WACtBC,EAAW9B,OAAO+B,KAAKF,GAC1BG,EAAIF,EAASG,OACbC,EAAW,IAAI1B,MAAMwB,GAEfA,OACGA,IAAMF,EAASE,GAAIH,EAAIC,EAASE,KAE1C,OAAOE,IAoBR,SAASZ,EAAQxB,YAuCRqC,EAA0BC,QAC7BC,KAAOD,EAAMC,UACbC,OAASF,EAAME,YACfC,WAAaH,EAAMG,gBACnBC,mBAAqBJ,EAAMI,wBAC3BC,iBAAmBL,EAAMK,uBAumBxB,SACG,OACF,QACC,QACA,SACC,QA3mBJC,iBAAmBN,EAAMK,qBAG1BE,EAAa3D,KAAKwD,mBAClBI,EAAaD,EAAWE,MAAQF,EAAWG,OAC3CL,EAAmBzD,KAAKyD,iBACxBM,EAAmBN,EAAiBI,MAAQJ,EAAiBK,YAI3DE,kBADFJ,EACsBG,EAAmBH,EAGnB5D,KAAK0D,eAAiB,EAAI,WAc5CO,EAAqBC,EAAUC,OAEnCC,EAAUD,SAES,mBAAZD,QACJ,IAAIG,MAAM,kCAGbD,EAAQE,MAAiC,GAAzBF,EAAQE,KAAKC,eAC1B,IAAIF,MAAM,gCAIZG,gCA4cYC,EAAI3E,OACjB4E,EAAQ,YACL,WACDA,MACIlE,WAAW,iBAEV,MACNV,KAndyB6E,CAC7B3E,KAAKwE,uBAAuBI,KAAK5E,MAAOA,KAAK6E,uBAGzCC,UAAYZ,OACZa,4BACAC,uBACAC,kBAAoBjF,KAAKkF,iBAAiBd,EAAQe,iBAGlDC,WAAapF,KAAKqF,gBAAgBjB,EAAQkB,gBAC1ChB,KAAOF,EAAQE,MAAQ,UACvBa,WAAanF,KAAKiF,kBAAkBvD,IAAI,SAAS6D,UAC9CA,EAAOpE,MAAQoE,EAAOC,OAC3BC,KAAK,cAmdAC,EAASC,EAAMC,EAAOnB,EAAIoB,GACE,mBAAzBF,EAAKpE,mBACVA,iBAAiBqE,EAAOnB,EAAIoB,IAAkB,GAEhB,mBAApBF,EAAKG,eACfA,YAAY,KAAOF,EAAOnB,YAaxBsB,EAAYJ,EAAMC,EAAOnB,EAAIoB,GACE,mBAA5BF,EAAKK,sBACVA,oBAAoBJ,EAAOnB,EAAIoB,IAAkB,GAElB,mBAArBF,EAAKM,gBACfA,aAAa,KAAOL,EAAOnB,YAoCzBvC,EAAsBF,OAC1BC,QAGID,EAAGE,wBACT,MAAOgE,WAKJjE,GAGCA,EAAK4B,OAAS5B,EAAK6B,gBAElB7B,EAAKS,UACHT,EAAKG,aACJH,EAAKE,YACPF,EAAKI,WACJJ,EAAKG,MAAQH,EAAKI,YACjBJ,EAAKE,OAASF,EAAKS,MAGtBT,QAWD,SACG,OACF,QACC,QACA,SACC,YAWDkE,EAAaC,EAAQzE,WACzBgE,EAAOhE,EACJgE,GAAM,IACRA,GAAQS,EAAQ,OAAO,IAEpBC,EAAcV,UAEf,WAUCU,EAAcV,OAClBS,EAAST,EAAKW,kBAEdF,GAA6B,IAAnBA,EAAO7B,UAAkB6B,EAAOG,KAEtCH,EAAOG,KAERH,KArrBJ,yBAA0B9D,GAC1B,8BAA+BA,GAC/B,sBAAuBA,EAAOa,0BAA0BqD,UAIrD,mBAAoBlE,EAAOa,0BAA0BqD,kBACnDC,eAAenE,EAAOa,0BAA0BqD,UACtD,sBACM,kBACGxG,KAAKgE,kBAAoB,cAcjC0C,OA6EiBF,UAAU3B,iBAAmB,MAQ7B2B,UAAUG,cAAgB,OAQ1BH,UAAUI,QAAU,SAAStD,OAE7CtD,KAAK+E,oBAAoB8B,KAAK,SAASC,UAClCA,EAAKC,SAAWzD,SAKnBA,GAA6B,GAAnBA,EAAOiB,eAChB,IAAIF,MAAM,kCAGZ2C,yBACAjC,oBAAoBkC,MAAMF,QAASzD,EAAQF,MAAO,YAClD8D,6BACA1C,6BAQegC,UAAUW,UAAY,SAAS7D,QAC9CyB,oBACJ/E,KAAK+E,oBAAoBqC,OAAO,SAASN,UAEjCA,EAAKC,SAAWzD,IAEpBtD,KAAK+E,oBAAoB9B,cACxBoE,+BACAC,0BAQcd,UAAUe,WAAa,gBACtCxC,4BACAsC,+BACAC,yBAUed,UAAUgB,YAAc,eACxCC,EAAUzH,KAAKgF,eAAe0C,oBAC7B1C,kBACEyC,KAaajB,UAAUnB,gBAAkB,SAASsC,OACrDrC,EAAYqC,IAAkB,UAC7BnG,MAAMC,QAAQ6D,KAAYA,GAAaA,IAErCA,EAAUsC,OAAOR,OAAO,SAAS3G,EAAGuC,EAAG6E,MAC7B,iBAALpH,GAAiBqH,MAAMrH,IAAMA,EAAI,GAAKA,EAAI,QAC9C,IAAI4D,MAAM,iEAEV5D,IAAMoH,EAAE7E,EAAI,QAgBAwD,UAAUtB,iBAAmB,SAAS6C,OAEtDC,GADeD,GAAkB,OACVE,MAAM,OAAOvG,IAAI,SAAS6D,OAChD2C,EAAQ,wBAAwBC,KAAK5C,OACpC2C,QACE,IAAI7D,MAAM,4DAETlD,MAAOiH,WAAWF,EAAM,IAAK1C,KAAM0C,EAAM,eAI1C,GAAKF,EAAQ,IAAMA,EAAQ,KAC3B,GAAKA,EAAQ,IAAMA,EAAQ,KAC3B,GAAKA,EAAQ,IAAMA,EAAQ,GAE5BA,KASaxB,UAAUU,sBAAwB,WACjDlH,KAAKqI,gCACJA,0BAA2B,EAI5BrI,KAAK2G,mBACH2B,oBAAsBC,YAC1BvI,KAAKwE,uBAAwBxE,KAAK2G,kBAG1BrE,EAAQ,SAAUtC,KAAKwE,wBAAwB,KAC/C1D,EAAU,SAAUd,KAAKwE,wBAAwB,GAEtD,qBAAsBlC,SACpBkG,aAAe,IAAIC,iBAAiBzI,KAAKwE,6BACzCgE,aAAa5B,QAAQ9F,eACb,aACD,iBACI,WACN,UAYO0F,UAAUa,wBAA0B,WACpDrH,KAAKqI,gCACHA,0BAA2B,gBAElBrI,KAAKsI,0BACdA,oBAAsB,OAEfhG,EAAQ,SAAUtC,KAAKwE,wBAAwB,KAC/C1D,EAAU,SAAUd,KAAKwE,wBAAwB,GAEzDxE,KAAKwI,oBACHA,aAAajB,kBACbiB,aAAe,UAYFhC,UAAUhC,uBAAyB,eACnDkE,EAAc1I,KAAK2I,eACnBC,EAAWF,EAAc1I,KAAK6I,oBA0W5B,SACG,OACF,QACC,QACA,SACC,QA7WJ9D,oBAAoB+D,QAAQ,SAAShC,OACrCxD,EAASwD,EAAKC,QACdpD,EAAazB,EAAsBoB,GACnCyF,EAAqB/I,KAAKgJ,oBAAoB1F,GAC9C2F,EAAWnC,EAAK1D,MAChBK,EAAmBiF,GAAeK,GACf/I,KAAKkJ,kCAAkC5F,EAAQsF,GAElEO,EAAWrC,EAAK1D,MAAQ,IAAID,QAkO1Bb,EAAO8G,aAAeA,YAAYC,KAAOD,YAAYC,aAhOlD/F,qBACYK,aACRiF,mBACMnF,IAGdwF,EAEMP,GAAeK,EAGrB/I,KAAKsJ,qBAAqBL,EAAUE,SAClCnE,eAAeiC,KAAKkC,GAMtBF,GAAYA,EAASvF,qBACnBsB,eAAeiC,KAAKkC,QAZrBnE,eAAeiC,KAAKkC,IAexBnJ,MAECA,KAAKgF,eAAe/B,aAClB6B,UAAU9E,KAAKwH,cAAexH,SAiBhBwG,UAAU0C,kCAC9B,SAAS5F,EAAQsF,MAG+B,QAA3CtG,EAAOiH,iBAAiBjG,GAAQkG,iBAGhC/F,EADavB,EAAsBoB,GAEnC8C,EAASC,EAAc/C,GACvBmG,GAAS,GAELA,GAAQ,KACXC,EAAa,KACbC,EAAyC,GAAnBvD,EAAO7B,SACPjC,EAAOiH,iBAAiBnD,SAGf,QAA/BuD,EAAoBH,QAAmB,UAEvCpD,GAAUpG,KAAKsE,MAAQ8B,GAAUtF,MAC3B,IACI8H,GAMTxC,GAAUtF,EAAS8I,MACnBxD,GAAUtF,EAAS0B,iBACa,WAAhCmH,EAAoBE,aACV3H,EAAsBkE,IAMjCsD,gBAsN0BI,EAAOC,OACnCrH,EAAMsH,KAAKC,IAAIH,EAAMpH,IAAKqH,EAAMrH,KAChCP,EAAS6H,KAAKE,IAAIJ,EAAM3H,OAAQ4H,EAAM5H,QACtCE,EAAO2H,KAAKC,IAAIH,EAAMzH,KAAM0H,EAAM1H,MAClCD,EAAQ4H,KAAKE,IAAIJ,EAAM1H,MAAO2H,EAAM3H,OACpCyB,EAAQzB,EAAQC,EAChByB,EAAS3B,EAASO,SAEdmB,GAAS,GAAKC,GAAU,QAC1BpB,SACGP,OACFE,QACCD,QACAyB,SACCC,GAnOaqG,CAAwBT,EAAYjG,IAEhC,QAEf4C,EAAcD,UAEjB3C,MASY+C,UAAUqC,aAAe,eACzCD,KACA5I,KAAKsE,OACGpC,EAAsBlC,KAAKsE,UAChC,KAEF8F,EAAOtJ,EAAS0B,gBAChBoH,EAAO9I,EAAS8I,YAEd,OACC,QACCQ,EAAK3H,aAAemH,EAAKnH,kBACzB2H,EAAK3H,aAAemH,EAAKnH,mBACxB2H,EAAKxH,cAAgBgH,EAAKhH,oBAC1BwH,EAAKxH,cAAgBgH,EAAKhH,qBAG7B5C,KAAKqK,wBAAwBzB,MAUhBpC,UAAU6D,wBAA0B,SAASpI,OAC7D+F,EAAUhI,KAAKiF,kBAAkBvD,IAAI,SAAS6D,EAAQvC,SACnC,MAAfuC,EAAOC,KAAeD,EAAOpE,MAC7BoE,EAAOpE,OAAS6B,EAAI,EAAIf,EAAK4B,MAAQ5B,EAAK6B,QAAU,MAExDwG,OACErI,EAAKS,IAAMsF,EAAQ,SACjB/F,EAAKG,MAAQ4F,EAAQ,UACpB/F,EAAKE,OAAS6F,EAAQ,QACxB/F,EAAKI,KAAO2F,EAAQ,aAEnBnE,MAAQyG,EAAQlI,MAAQkI,EAAQjI,OAChCyB,OAASwG,EAAQnI,OAASmI,EAAQ5H,IAEnC4H,KAca9D,UAAU8C,qBAC9B,SAASL,EAAUE,OAIdoB,EAAWtB,GAAYA,EAASvF,eACrBuF,EAASjF,mBAAqB,GAAK,EAC9CwG,EAAWrB,EAASzF,eACTyF,EAASnF,mBAAqB,GAAK,KAG9CuG,IAAaC,MAEZ,IAAIxH,EAAI,EAAGA,EAAIhD,KAAKoF,WAAWnC,OAAQD,IAAK,KAC5CsC,EAAYtF,KAAKoF,WAAWpC,MAI5BsC,GAAaiF,GAAYjF,GAAakF,GACtClF,EAAYiF,GAAajF,EAAYkF,SACjC,MAWUhE,UAAUmC,aAAe,kBACrC3I,KAAKsE,MAAQ6B,EAAarF,EAAUd,KAAKsE,SAU7BkC,UAAUwC,oBAAsB,SAAS1F,UACtD6C,EAAanG,KAAKsE,MAAQxD,EAAUwC,MASvBkD,UAAUQ,kBAAoB,WAC9CN,EAAS+D,QAAQzK,MAAQ,KACnBiH,KAAKjH,SASKwG,UAAUc,oBAAsB,eAChDoD,EAAQhE,EAAS+D,QAAQzK,OACf,GAAV0K,GAAahE,EAASiE,OAAOD,EAAO,MAqLlCzG,qBAAuBA,IACvBd,0BAA4BA,GAjsBnC,CAmsBCb,OAAQxB,8yCC7tBJ8J,aACL,oBACA,kBACA,mBACA,mBACA,iCACA,sBACA,qCAGKC,WACL,wCACA,kDACA,2DAGKC,sEAKLC,KAAO,UACPC,KAAO,UACPC,KAAO,UACPC,MAAQ,UAERC,GAAK,UACLC,IAAM,UAENC,KAAO,OACPC,OAAS,QACTC,WAAa,OACbC,YAAa,OAEbC,iBACAC,iBAEAC,QAAU,UACVC,aAAe,UA4IfC,SAAW,cACLP,OAASQ,EAAExI,OAAOnC,QAClB4K,OAAM,SAGZC,OAAS,cACN1I,OAAO0C,oBAAoB,OAAQiG,EAAKD,UACxC1I,OAAOgD,WAAWA,WAAW4F,UAAUC,IAAI,YAC3C7I,OAAO8I,MAAMC,WAAa,UAG7BC,UAAY,cACHxD,QAAQ,YACV1F,EAAMM,eAOa,eAApBN,EAAME,OAAOiJ,GAMbnJ,EAAME,OAAOkJ,QAAQC,WACnBC,cAActJ,EAAME,QANrB2I,EAAKZ,OAASY,EAAKV,YAAeU,EAAKT,YAC1CS,EAAKF,QARF3I,EAAME,OAAOkJ,QAAQC,SAClBrJ,EAAMI,mBAAmBd,KAAO,GACtCuJ,EAAKS,cAActJ,EAAME,gBAgB7BqJ,WAAa,SAACb,OAAGxI,yDAAS,OACvBsJ,8BACOtJ,GAAkBwI,EAAExI,QAC0BkJ,QAA/CD,IAAAA,GAAIM,IAAAA,MAAOC,IAAAA,OAAQC,IAAAA,UAAWC,IAAAA,MAElC5G,EAAS9C,GACL8C,EAAO8F,UAAUe,SAAS,yBACxB7G,EAAOE,WAEjBF,EAAO8F,UAAUC,IAAI,mBAEff,EAAM,IAAI8B,iBACZC,KAAK,OAAQ,aAAa,KAC1BC,iBAAiB,mBAAoB,oBACrCC,OAAS,eACNC,EAASlC,EAAIkC,OACfC,EAAMnC,EAAIoC,mBAGPC,KAAKC,MAAMH,GAChB,MAAO1L,UAIFqK,UAAUyB,OAAO,eAEpBL,EAAS,KAAOA,GAAU,UACvBM,GAAGC,aACRN,EAAIO,eAAe,SAChBP,EAAIQ,MAAQ,mCAKXH,GAAGI,cAAc,uCAGlBC,EAAO,IAAIC,WACZC,OAAOC,MAAMC,cAAeD,MAAME,kBAClCH,OAAO,KAAM5B,KACb4B,OAAO,QAAStB,KAChBsB,OAAO,SAAUrB,KACjBqB,OAAO,YAAapB,KACpBoB,OAAO,QAASnB,KAChBmB,OAAO,QAASlC,EAAKX,UAEtBiD,KAAKN,SApNJlD,KAAOjK,SAAS0N,eAAe,mBAC/BxD,KAAOlK,SAAS0N,eAAe,qBAC/BvD,KAAOnK,SAAS0N,eAAe,mBAC/BtD,MAAQpK,SAAS0N,eAAe,oBAEhCrD,GAAK,IAAIlH,qBAAqBjE,KAAKsM,gBACnCnB,GAAGvE,QAAQ5G,KAAKiL,WAEhBD,KAAKzJ,iBAAiB,SAAU,mBAAKuK,EAAEc,wBACvC5B,KAAKyD,kBAAkBlN,iBAC3B,QACA7B,SAASM,KAAK6L,SAAU,WAGpBE,OAAM,QAENJ,QAAUlL,EAAE,OAASiO,MAAO,6BACxB9E,KAAKhI,YAAY5B,KAAK2L,wEAMzBgD,0DAAqBC,6DACvBD,QACEtD,KAAO,OACPE,WAAa,OACbR,KAAKmB,UAAUC,IAAI,cACbyC,GAAS5O,KAAKqL,SAEtBrL,KAAKqL,KAAOrL,KAAKuL,kBAEhBC,YAAa,OAEbJ,KAAOpL,KAAKoL,IAAIyD,cAEhBzD,IAAM,IAAI8B,oBACV9B,IAAI+B,KAAK,OAAQ,aAAa,QAC9B/B,IAAIgC,iBAAiB,mBAAoB,uBACzChC,IAAIiC,OAAS,eACXC,EAASwB,EAAK1D,IAAIkC,OACpBC,EAAMuB,EAAK1D,IAAIoC,kBACdpC,IAAM,QAEI0D,EAAK/D,KAAKmB,UAAUyB,OAAO,eACrCnC,YAAa,EAEd8B,EAAS,KAAOA,GAAU,UACvBM,GAAGC,aAAaN,WAOJ,UAHbE,KAAKC,MAAMH,IAGTwB,gBACFhE,KAAKyB,QAAQwC,QAAUJ,EAC3BhE,YAAYZ,KAAKiF,MAAMjF,KAAKkF,SAAWtE,YAAY3H,SACjD7B,QAAQ,UAAW0N,EAAKxD,QACvB,uCACCS,MAAM4C,GAAa,KAIpBpD,WAAagC,EAAIhC,aACjB4D,gBAAgB5B,EAAIwB,cAGpBd,EAAO,IAAIC,WACZC,OAAOC,MAAMC,cAAeD,MAAME,kBAClCH,OAAO,OAAQnO,KAAKqL,QACpB8C,OAAO,QAASiB,UAAUpP,KAAKsL,OAAOjK,cAEtC+J,IAAImD,KAAKN,4CAGEoB,cACE,IAAdrP,KAAKqL,YACHiE,oBACAC,mBAGEzG,QAAQ,gBACXhF,EAAS,GAET0L,EAAO3L,OAAS2L,EAAO1L,WAChB0L,EAAO1L,OAAS0L,EAAO3L,MAAS,SAGrC4L,EAAKC,EAAKjE,SAAShB,QAAQT,KAAKE,iCAAOwF,EAAKjE,cAC7CA,SAASgE,IAAO3L,IAEhBiH,KAAKnK,SAAS6O,GAAI7N,YACtB8N,EAAKC,OAAOH,WAIT9D,SAAS5C,QAAQ,mBAAW4G,EAAKhD,cAAcD,KAEhDzM,KAAKqL,OAASrL,KAAKuL,YAAkC,IAApBvL,KAAKuL,YACzCvL,KAAKiL,KAAKiB,UAAUC,IAAI,QAED,IAApBnM,KAAKuL,kBACHL,MAAM0E,YACV/E,UAAUb,KAAKiF,MAAMjF,KAAKkF,SAAWrE,UAAU5H,SAC7C7B,QAAQ,UAAWpB,KAAKsL,aACtBJ,MAAMgB,UAAUC,IAAI,6CAIdU,kBACL7M,KAAK2L,QAAQ8C,wBACd9C,QAAQkE,YAAY7P,KAAK2L,QAAQ8C,mBAEvCzO,KAAK2L,QAAQ/J,YACZ5B,KAAK2P,OAAO9C,EAAO,aACblB,QAAQO,UAAUyB,OAAO,iBACrB/D,KAAKwC,MAAMvC,SAAW,YACtBD,KAAKtD,WAAW8F,MAAMvC,SAAW,WAIvC8B,QAAQO,UAAUC,IAAI,iBAClBvC,KAAKwC,MAAMvC,SAAW,kBACtBD,KAAKtD,WAAW8F,MAAMvC,SAAW,oBAE/B,aACL+B,aAAatK,aAAa,MAAOwO,EAAKlE,aAAaY,QAAQuD,MAC9D,gDA6FE,IAFCC,EAAIhQ,KAAK+K,KAAKnK,SAEXoC,EAAI,EAAGA,EAAIgN,EAAE/M,OAAQD,IAAK,MAC3BgN,EAAEhN,GAAGyL,qBACTzL,GAAG6M,YAAYG,EAAEhN,GAAGyL,mBAElBzO,KAAK0L,SAAS1I,UACb0I,SAAS1I,GAAKvC,EAAE,aAChBiL,SAAS1I,GAAGwJ,QAAQC,SAAU,OAC9BtB,GAAGvE,QAAQ5G,KAAK0L,SAAS1I,OAG7BA,GAAGpB,YAAY5B,KAAK0L,SAAS1I,SAG3BiI,KAAKiB,UAAUyB,OAAO,aACtBzC,MAAMgB,UAAUyB,OAAO,eACrBsC,SAAS,EAAG,gDAIdxE,gBAEA,IAAIzI,EAAI,EAAGA,EAAIhD,KAAK+K,KAAKnK,SAASqC,OAAQD,SACzCyI,SAASxE,KAAK,yCAGN3D,OACR4M,EAAO5M,EAAO6M,sBAEfD,GAASA,EAAKhE,UAAUe,SAAS,2BAGhCmD,EAAMF,EAAKG,cAAc,SAC3B/O,aAAa,MAAO8O,EAAI5D,QAAQuD,OAChCzO,aAAa,MAAO8O,EAAI5D,QAAQ8D,OAE7BhK,WAAWiK,aAAajN,EAAQ4M,EAAKC,+BAEjC7M,IAAWtD,KAAK0M,cAAcpJ,iDAIvCiJ,IAAAA,GAAIiE,IAAAA,KAAMC,IAAAA,KAAM5M,IAAAA,MAAOC,IAAAA,OAAQ4M,IAAAA,MAAO1D,IAAAA,MACxC2D,yDAAU,KAENC,EAAS,GACT/M,GAASC,MACFA,EAASD,EAAS,SAGvBgN,EAAwB,OAAZF,EACbA,IAASA,EAAU3Q,KAAK8Q,YAAYlM,KAAK5E,KAAMC,UAAU,SAExD8Q,EAAQ,sFAEPtQ,EAAE,aACD,sBAAwBoQ,EAAY,UAAY,UAChDA,EAAY,6BACHD,iBAGhBnQ,EAAE,OAASiO,MAAO,2BACjBjO,EAAE,UACKgQ,EAAKC,MAAMtG,KAAO2G,SAChB,UACNN,EAAKpQ,MACRI,EAAE,QACIoQ,EAAY,GAAKtE,QACf,UACDmE,EAAMM,SAAWD,SACf,mBACGxE,eACGmE,EAAMM,uBACLP,EAAKpQ,uBACDoQ,EAAKC,MAAMtG,kBAChB4C,QACP6D,EAAY,cACV/E,KACHa,WAAWb,EAAGhL,SAAS0N,eAAejC,KACxCvM,KAAK2M,YACP,cAEJlM,EAAE,aACM,0BACLoD,GAASC,GAAUD,EAAQC,GACzBxB,OAAOK,YAAcL,OAAOC,WAC5B,QAAU,WAGd9B,EAAE,kBACGoQ,OACEL,EAAKS,UACLR,EAAKpQ,kBAEEmQ,EAAKS,iBACLR,EAAKpQ,YAEZL,KAAKgM,aACJ2E,+BAEJE,GAAapQ,EAAE,kBACN+P,EAAKU,SACZT,EAAKpQ,WACHsQ,MACF,cAAa/E,aAAe5J"}